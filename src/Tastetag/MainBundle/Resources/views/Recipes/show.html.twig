{% extends '::base.html.twig' %}

{% block stylesheets %}
  {% stylesheets '@TastetagMainBundle/Resources/public/css/style.css' %}
    	<link rel="stylesheet" href="{{ asset_url }}">
	{% endstylesheets %}
{% endblock %}



{% block body %}
	
    <h2>{{ recipe.name }}</h2>
    <div>Difficulty: {{ recipe.difficulty }}</div>
    <div>Preparation Time: {{ recipe.prepHour }}h {{ recipe.prepMin }}min</div>
    <div>Portions: {{ recipe.people }}</div>
    <div>{{ recipe.description }}</div>
    <div>Składniki:</div>
    {% for ingridient in ingridients %}
        <li>{{ ingridient.name }} - {{ ingridient.amount }} {{ ingridient.unit }}</li>
    {% endfor %}

    <div class="recipe-images">
        {% for image in recipe.images %}
            <img src="{{asset(image.getWebPath())}}"> 
        {% endfor %}
    </div>

    <div class="recipe-images">
    Tags:
        {% for tag in recipe.tags %}
            <a href="{{ path('tag_recipes', {'id': tag.id}) }}" class="tag-item">{{ tag.name }}</a> 
        {% endfor %}
    </div>

    <div>Przepis użytkownika <a href="{{ path('user_profile', {'user_id': recipe.user.id}) }}">{{ recipe.user.username }}</a> </div>

    <a href="{{ path('recipe_edit', { 'id': recipe.id }) }}">Edit</a>

    <form action="{{ path('recipe_delete', { 'id': recipe.id }) }}" method="post">
  	    {{ form_widget(delete_form) }}
  	    <button type="submit">Delete</button>
  	</form>

    <div>Comments:</div>
    {% if app.user %}
        {% include 'TastetagMainBundle:Comments:form.html.twig' with { 'form': comment_form, 'recipe_id' : recipe.id } %}
    {% endif %}
    {% for comment in recipe.comments %}
        <div>{{ comment.user.username }}</div>
        <div>{{ comment.content }}</div>
        <div>{{ comment.createdAt|date('Y-m-d H:i') }}</div>
    {% endfor %}

{% endblock %}